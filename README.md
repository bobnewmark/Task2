Second part of the task. Refactoring
